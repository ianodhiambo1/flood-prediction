<!DOCTYPE html>
<html lang="en">

<head>
    <title>Flood Prediction & Disaster Management</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Flood Prediction & Disaster Management">
    <meta name="author" content="Ian-Odhiambo, Johnwillis Alande">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <style>
        .card {
            margin-bottom: 20px;
        }

        .card img {
            height: 200px;
            object-fit: cover;
        }

        .section {
            padding: 60px 0;
        }

        .carousel-item .card {
            margin: 0 auto;
            max-width: 600px;
        }

        .carousel-control-prev,
        .carousel-control-next {
            width: 5%;
        }

        .carousel-control-prev-icon,
        .carousel-control-next-icon {
            background-color: rgba(0, 0, 0, 0.5);
            border-radius: 50%;
            padding: 10px;
        }

        .carousel-control-prev-icon:hover,
        .carousel-control-next-icon:hover {
            background-color: rgba(0, 0, 0, 0.8);
        }

        .carousel-control-prev-icon::after,
        .carousel-control-next-icon::after {
            font-size: 30px;
            color: white;
        }

        #floodSafetyTips {
            background-image: url('images/bg_13.jpeg');
            background-size: cover;
            background-position: center;
            padding: 60px 0; /* Adjust padding as needed */
        }

        #weatherUpdates {
            background-image: url('#');
            background-size: cover;
            background-position: center;
            padding: 60px 0; /* Adjust padding as needed */ 
        }

        #emergencyAssistance {
            background-image: url('images/bg_13.jpeg');
            background-size: cover;
            background-position: center;
            padding: 60px 0; /* Adjust padding as needed */
        }

        #volunteerDonation {
            background-image: url('#');
            background-size: cover;
            background-position: center;
            padding: 60px 0; /* Adjust padding as needed */
        }
    </style>
</head>

<body>
    <div class="container-fluid">
        <section class="section bg-light" id="floodSafetyTips">
            <div class="container">
                <h2 class="text-center mb-4" style="font-weight: bold;">Flood Safety Tips</h2>
                <div id="floodSafetyCarousel" class="carousel slide" data-bs-ride="carousel">
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <div class="card">
                                <img src="images/img_21.jpeg" class="card-img-top" alt="Tip 1">
                                <div class="card-body">
                                    <h5 class="card-title" style="font-weight: bold;">Tip 1</h5>
                                    <p class="card-text" style="font-weight: bold;">Stay Informed</p>
                                    <p class="card-text" style="font-weight: bold;">Listen to local news for flood updates and evacuation instructions.</p>
                                </div>
                            </div>
                        </div>
                        <div class="carousel-item">
                            <div class="card">
                                <img src="images/img_22.jpeg" class="card-img-top" alt="Tip 2">
                                <div class="card-body">
                                    <h5 class="card-title" style="font-weight: bold;">Tip 2</h5>
                                    <p class="card-text" style="font-weight: bold;">Evacuate if Advised</p>
                                    <p class="card-text" style="font-weight: bold;">Leave immediately if local authorities recommend it.</p>
                                </div>
                            </div>
                        </div>
                        <div class="carousel-item">
                            <div class="card">
                                <img src="images/img_23.jpeg" class="card-img-top" alt="Tip 3">
                                <div class="card-body">
                                    <h5 class="card-title" style="font-weight: bold;">Tip 3</h5>
                                    <p class="card-text" style="font-weight: bold;">Avoid floodwaters</p>
                                    <p class="card-text" style="font-weight: bold;">Do not walk, swim, or drive through floodwaters.</p>
                                </div>
                            </div>
                        </div>
                        <div class="carousel-item">
                            <div class="card">
                                <img src="images/img_24.jpeg" class="card-img-top" alt="Tip 4">
                                <div class="card-body">
                                    <h5 class="card-title" style="font-weight: bold;">Tip 4</h5>
                                    <p class="card-text" style="font-weight: bold;">Move to Higher Ground.</p>
                                    <p class="card-text" style="font-weight: bold;">In case of an incoming flood, move towards a higher ground to stay safe.</p>
                                </div>
                            </div>
                        </div>
                        <div class="carousel-item">
                            <div class="card">
                                <img src="images/img_25.jpg" class="card-img-top" alt="Tip 5">
                                <div class="card-body">
                                    <h5 class="card-title" style="font-weight: bold;">Tip 5</h5>
                                    <p class="card-text" style="font-weight: bold;">Turn Off Utilities</p>
                                    <p class="card-text" style="font-weight: bold;">If safe, turn off gas, electricity, and water to prevent accidents.</p>
                                </div>
                            </div>
                        </div>
                        <div class="carousel-item">
                            <div class="card">
                                <img src="images/img_26.jpeg" class="card-img-top" alt="Tip 6">
                                <div class="card-body">
                                    <h5 class="card-title" style="font-weight: bold;">Tip 6</h5>
                                    <p class="card-text" style="font-weight: bold;">Avoid Contaminated Water.</p>
                                    <p class="card-text" style="font-weight: bold;">Do not use floodwater for drinking, cooking or hygiene as it is not safe.</p>
                                </div>
                            </div>
                        </div>
                        <div class="carousel-item">
                            <div class="card">
                                <img src="images/img_27.jpg" class="card-img-top" alt="Tip 7">
                                <div class="card-body">
                                    <h5 class="card-title" style="font-weight: bold;">Tip 7</h5>
                                    <p class="card-text" style="font-weight: bold;">Report Any Incidents.</p>
                                    <p class="card-text" style="font-weight: bold;">Report any emergencies, damages and share information with your local authorities.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <button class="carousel-control-prev" type="button" data-bs-target="#floodSafetyCarousel" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#floodSafetyCarousel" data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Next</span>
                    </button>
                </div>
            </div>
        </section>

        <section class="section" id="weatherUpdates">
            <div class="container">
                <h2 class="text-center mb-4" style="font-weight: bold;">Weather Updates</h2>
                <div class="card">
                    <div class="card-body">
                        <div id="update-list">
                            <!-- Updates will be dynamically inserted here -->
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="section bg-light" id="emergencyAssistance">
            <div class="container">
                <h2 class="text-center mb-4" style="font-weight: bold;">Emergency Assistance Request and Update Platform</h2>
                <div class="row">
                    <div class="col-md-6">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title" style="font-weight: bold;">Request Assistance</h5>
                                <form action="/urgency" method="post">
                                    <div class="mb-3">
                                        <label for="username" class="form-label" style="font-weight: bold;">Name</label>
                                        <input type="text" class="form-control" id="username" name="username" placeholder="Enter your name">
                                    </div>
                                    <div class="mb-3">
                                        <label for="phoneNumber" class="form-label" style="font-weight: bold;">Phone Number</label>
                                        <input type="text" class="form-control" id="phoneNumber" name="phoneNumber" placeholder="Enter your phone number">
                                    </div>
                                    <div class="mb-3">
                                        <label for="location" class="form-label" style="font-weight: bold;">Location</label>
                                        <input type="text" class="form-control" id="location" name="location" placeholder="Enter your location">
                                    </div>
                                    <div class="mb-3">
                                        <label for="urgency" class="form-label" style="font-weight: bold;">Details of Assistance Needed</label>
                                        <textarea class="form-control" id="urgency" name="urgency" rows="3"></textarea>
                                    </div>
                                    <button type="submit" class="btn btn-primary">Request</button>
                                </form>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title" style="font-weight: bold;">Send Information Update</h5>
                                <form action="/update" method="post">
                                    <div class="mb-3">
                                        <label for="username" class="form-label" style="font-weight: bold;">Name</label>
                                        <input type="text" class="form-control" id="username" name="username" placeholder="Enter your name">
                                    </div>
                                    <div class="mb-3">
                                        <label for="location" class="form-label" style="font-weight: bold;">Location</label>
                                        <input type="text" class="form-control" id="location" name="location" placeholder="Enter your location">
                                    </div>
                                    <div class="mb-3">
                                        <label for="updates" class="form-label" style="font-weight: bold;">Tell us more about the weather in your area</label>
                                        <textarea class="form-control" id="updates" name="updates" rows="3"></textarea>
                                    </div>
                                    <button type="submit" class="btn btn-primary">Send Update</button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="section bg-light" id="contact">
            <div class="container">
                <h2 class="text-center mb-4" style="font-weight: bold;">Contact For Help</h2>
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title" style="font-weight: bold;">Are You In Urgent Need Of Help?</h5>
                        <p class="card-text" style="font-weight: bold;">Call rescue authorities using the hotline below!</p>
                        <button class="btn btn-primary" id="callButton">Call 911</button>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Pop-up Modal -->
        <div class="modal fade" id="callModal" tabindex="-1" aria-labelledby="callModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="callModalLabel">Emergency Call</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body" style="font-weight: bold;">
                        Are you sure you want to call 911?
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                        <button type="button" class="btn btn-primary" id="confirmCallButton">Call</button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Call Forwarding Modal -->
    <div class="modal fade" id="forwardingModal" tabindex="-1" aria-labelledby="forwardingModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="forwardingModalLabel">Call Forwarding</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    Call Forwarding...
                </div>
            </div>
        </div>
    </div>
    </div>

    <script src="js/jquery.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.easing.1.3.js"></script>
    <script src="js/jquery.waypoints.min.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/jquery.animateNumber.min.js"></script>
    <script src="js/main.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            fetch('/weather-updates')
                .then(response => response.json())
                .then(data => {
                    const updateList = document.getElementById('update-list');
                    updateList.innerHTML = '';
    
                    data.forEach(update => {
                        // Create elements for bold text
                        const usernameElement = document.createElement('strong');
                        usernameElement.textContent = update.Username;
    
                        const locationElement = document.createElement('strong');
                        locationElement.textContent = update.Location;
    
                        const updateElement = document.createElement('p');
                        updateElement.innerHTML = `<strong>${update.Username}</strong> has given an area update on weather in <strong>${update.Location}</strong> : <strong>${update.Updates}</strong> .Time:  <strong>${update.Timestamp}</strong>`;
    
                        updateList.appendChild(updateElement);
                    });
                });
        });
    </script>
     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
     <script>
        document.addEventListener('DOMContentLoaded', function() {
            const callButton = document.getElementById('callButton');
            const confirmCallButton = document.getElementById('confirmCallButton');
            const callModal = new bootstrap.Modal(document.getElementById('callModal'));
            const forwardingModal = new bootstrap.Modal(document.getElementById('forwardingModal'));

            callButton.addEventListener('click', function() {
                callModal.show();
            });

            confirmCallButton.addEventListener('click', function() {
                callModal.hide();
                setTimeout(() => {
                    forwardingModal.show();
                    setTimeout(() => {
                        forwardingModal.hide();
                    }, 2000); // Hide the forwarding modal after 2 seconds
                }, 500); // Adding a slight delay to ensure the first modal is completely hidden
            });
        });
    </script>
    
</body>

</html>